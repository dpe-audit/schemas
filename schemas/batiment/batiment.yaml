$id: https://schemas.dpe-audit.fr/batiment
$schema: https://json-schema.org/draft/2020-12/schema
title: Bâtiment
type: object
properties:
  rnb_id:
    title: Identifiant du bâtiment depuis le RNB
    type: ["string", "null"]
    default: null
  type:
    title: Type de bâtiment
    description: Donnée calculée à partir du nombre de logements
    type: string
    enum: [maison, immeuble]
  annee_construction:
    title: Année de construction
    type: integer
  altitude:
    title: Altitude du bâtiment en mètres
    type: number
  logements:
    title: Nombre de logements
    type: integer
    exclusiveMinimum: 0
  surface_habitable:
    title: Surface habitable en m²
    type: number
    exclusiveMinimum: 0
  hauteur_sous_plafond:
    title: Hauteur moyenne sous plafond en m
    type: number
    exclusiveMinimum: 0
  materiaux_anciens:
    title: Bâtiment majoritairement composé de matériaux anciens
    type: boolean
  data:
    $ref: "#/$defs/data"
required:
  - rnb_id
  - type
  - annee_construction
  - altitude
  - logements
  - surface_habitable
  - hauteur_sous_plafond
  - materiaux_anciens
$defs:
  data:
    title: Données calculées
    type: object
    readOnly: true
    properties:
      effet_joule:
        title: Bâtiment chauffé par effet joule
        type: boolean
      parois_anciennes_lourdes:
        title: Bâtiment constitué de parois anciennes lourdes
        type: boolean
      surface_reference:
        title: Surface thermique de référence en m²
        type: number
        minimumExclusive: 0
      volume_reference:
        title: Volume thermique de référence en m³
        type: number
        minimumExclusive: 0
