$id: https://schemas.dpe-audit.fr/enveloppe/local_non_chauffe/baie
$schema: https://json-schema.org/draft/2020-12/schema
title: Baie
type: object
properties:
  id:
    title: Identifiant
    type: string
    format: uuid
  description:
    title: Description
    type: string
  materiau:
    title: Matériau de la baie
    type: ["string", "null"]
    enum:
      - polycarbonate
      - pvc
      - bois
      - bois_metal
      - metal
      - null
    default: null
  type_vitrage:
    title: Type de vitrage
    type: string
    enum:
      - polycarbonate
      - simple_vitrage
      - double_vitrage
      - double_vitrage_fe
      - triple_vitrage
      - triple_vitrage_fe
    default: null
  presence_rupteur_pont_thermique:
    title: Présence d'un rupteur de pont thermique
    type: ["boolean", "null"]
    default: null
  position:
    $ref: /enveloppe/local_non_chauffe/baie/position
required:
  - id
  - description
  - type_vitrage
  - position
oneOf:
  - title: Baie en polycarbonate
    type: object
    properties:
      materiau:
        const: polycarbonate
      type_vitrage:
        const: polycarbonate
    required:
      - materiau
      - type_vitrage
  - title: Autres cas
    type: object
    properties:
      materiau:
        not:
          const: polycarbonate
      type_vitrage:
        not:
          const: polycarbonate
    required:
      - materiau
      - type_vitrage
