$id: https://schemas.dpe-audit.fr/enveloppe/masque
$schema: https://json-schema.org/draft/2020-12/schema
title: Masque
type: object
properties:
  id:
    title: Identifiant
    type: string
    format: uuid
  description:
    title: Description
    type: string
  type:
    title: Type de masque proche
    type: string
    enum:
      - homogene
      - non_homogene
      - fond_balcon
      - fond_et_flanc_loggias
      - balcon_ou_auvent
      - paroi_laterale_sans_obstacle_au_sud
      - paroi_laterale_avec_obstacle_au_sud
  orientation:
    title: Orientation du masque lointain par rapport au nord en angle
    type: [number, "null"]
    minimum: 0
    exclusiveMaximum: 360
  hauteur:
    title: Hauteur du masque lointain en angle
    type: [number, "null"]
    exclusiveMinimum: 0
    exclusiveMaximum: 80
  profondeur:
    title: Profondeur du masque en m
    type: [number, "null"]
    exclusiveMinimum: 0
required:
  - id
  - description
oneOf:
  - title: Masque lointain
    type: object
    properties:
      type:
        title: Type de masque lointain
        type: string
        enum:
          - homogene
          - non_homogene
      orientation:
        type: number
      hauteur:
        type: number
      profondeur:
        const: null
    required:
      - type
      - hauteur
      - orientation
  - title: Masque proche - Paroi lat√©rale
    type: object
    properties:
      type:
        enum:
          - paroi_laterale_sans_obstacle_au_sud
          - paroi_laterale_avec_obstacle_au_sud
      orientation:
        const: null
      hauteur:
        const: null
      profondeur:
        const: null
    required:
      - type
  - title: Masque proche - Autres masques proches
    type: object
    properties:
      type:
        enum:
          - fond_balcon
          - fond_et_flanc_loggias
          - balcon_ou_auvent
      orientation:
        const: null
      hauteur:
        const: null
      profondeur:
        type: number
    required:
      - type
      - profondeur
