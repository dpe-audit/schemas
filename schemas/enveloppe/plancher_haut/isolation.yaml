$id: https://schemas.dpe-audit.fr/enveloppe/plancher_haut/isolation
$schema: https://json-schema.org/draft/2020-12/schema
title: Isolation
type: object
properties:
  etat:
    title: Etat d'isolation
    type: ["string", "null"]
    enum: [isole, non_isole, null]
  type:
    title: Type d'isolation
    type: ["string", "null"]
    enum:
      - iti
      - ite
      - itr
      - iti_ite
      - itr_iti
      - itr_ite
      - itr_iti_ite
      - null
    default: null
  annee_installation:
    title: Année d'isolation
    type: ["integer", "null"]
    default: null
  epaisseur:
    title: Epaisseur de l'isolation en mm
    type: ["number", "null"]
    exclusiveMinimum: 0
    default: null
  resistance_thermique:
    title: Résistance thermique de l'isolation en m².K/W
    type: ["number", "null"]
    exclusiveMinimum: 0
    default: null
required:
  - etat
oneOf:
  - title: Plancher non isolé ou dont l'isolation n'est pas connue
    type: object
    properties:
      etat:
        enum: [non_isole, null]
      type:
        const: null
      annee_installation:
        const: null
      epaisseur:
        const: null
      resistance_thermique:
        const: null
    required:
      - etat
  - title: Plancher isolé
    type: object
    properties:
      etat:
        const: isole
    required:
      - etat
