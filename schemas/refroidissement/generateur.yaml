$id: https://schemas.dpe-audit.fr/refroidissement/generateur
$schema: https://json-schema.org/draft/2020-12/schema
title: Générateur de refroidissement
type: object
unevaluatedProperties: false
properties:
  id:
    title: Identifiant
    type: string
    format: uuid
  description:
    title: Description
    type: string
  type:
    title: Type de générateur
    type: string
    enum:
      - pac_air_air
      - pac_air_eau
      - pac_eau_eau
      - pac_eau_glycolee_eau
      - pac_geothermique
      - autre_systeme_thermodynamique
      - autre
      - reseau_froid
  energie:
    title: Énergie utilisée par le générateur
    type: string
    enum: [electricite, gaz_naturel, gpl, reseau_froid]
  annee_installation:
    title: Année d'installation connue et justifiée
    type: ["integer", "null"]
    default: null
  seer:
    title: Coefficient d'efficience énergétique saisonnier connu et justifié
    type: ["number", "null"]
    exclusiveMinimum: 0
    default: null
  reseau_froid_id:
    title: Identifiant unique du réseau de froid
    type: ["string", "null"]
    default: null
  data:
    $ref: "#/$defs/data"
required:
  - id
  - description
  - type
  - energie
oneOf:
  - title: Pompe à chaleur
    type: object
    properties:
      type:
        enum:
          - pac_air_air
          - pac_air_eau
          - pac_eau_eau
          - pac_eau_glycolee_eau
          - pac_geothermique
          - autre_systeme_thermodynamique
      energie:
        const: electricite
      reseau_froid_id:
        const: null
    required:
      - type
      - energie
  - title: Climatiseur
    type: object
    properties:
      type:
        const: autre
      energie:
        enum:
          - electricite
          - gaz_naturel
          - gpl
      reseau_froid_id:
        const: null
    required:
      - type
      - energie
  - title: Réseau de froid
    type: object
    properties:
      type:
        const: reseau_froid
      energie:
        const: reseau_froid
    required:
      - type
      - energie
$defs:
  data:
    title: Données calculées
    type: object
    readOnly: true
    properties:
      rdim:
        title: Ratio de dimensionnement
        type: number
      cef_fr:
        title: Consommation finale en kWh/an
        type: number
      cep_fr:
        title: Consommation primaire en kWh/an
        type: number
      eges_fr:
        title: Emissions de gaz à effet de serre en kgCO2/an
        type: number
