$id: https://schemas.dpe-audit.fr/ressource
$schema: https://json-schema.org/draft/2020-12/schema
title: Ressource
type: object
properties:
  id:
    title: Identifiant
    type: string
    format: uuid
    readOnly: true
  date_visite:
    title: Date de visite du logement
    type: string
    format: date
  date_etablissement:
    title: Date d'établissement
    type: string
    format: date
  adresse:
    $ref: /adresse
  batiment:
    $ref: /batiment
  logements:
    title: Liste des logements visités
    type: array
    default: []
    items:
      $ref: /logement
  enveloppe:
    $ref: /enveloppe
  chauffage:
    $ref: /chauffage
  ecs:
    $ref: /ecs
  ventilation:
    $ref: /ventilation
  refroidissement:
    $ref: /refroidissement
  production:
    $ref: /production
  data:
    title: Données calculées
    type: object
    readOnly: true
    properties:
      cef:
        title: Consommation d'énergie finale
        type: number
        minimum: 0
      cep:
        title: Consommation d'énergie primaire
        type: number
        minimum: 0
      eges:
        title: Émissions de gaz à effet de serre
        type: number
        minimum: 0
      etiquette_energie:
        title: Etiquette énergie
        type: string
        enum: [A, B, C, D, E, F, G]
      etiquette_climat:
        title: Etiquette climat
        type: string
        enum: [A, B, C, D, E, F, G]
required:
  - date_visite
  - date_etablissement
  - adresse
  - batiment
  - logements
  - chauffage
  - ecs
  - ventilation
  - refroidissement
  - production
